import{s}from"./supabase.DgUM0jQD.js";const a=document.getElementById("selection-view"),i=document.getElementById("email-form-view"),c=document.getElementById("show-email-form"),d=document.getElementById("back-to-selection"),r=document.getElementById("signup-form"),e=document.getElementById("message");c?.addEventListener("click",()=>{a?.classList.add("hidden"),i?.classList.remove("hidden")});d?.addEventListener("click",()=>{i?.classList.add("hidden"),a?.classList.remove("hidden")});r?.addEventListener("submit",async n=>{n.preventDefault();const t=document.getElementById("email").value,l=document.getElementById("password").value;if(!e)return;e.textContent="Hesabınız oluşturuluyor...";const{error:o}=await s.auth.signUp({email:t,password:l});o?(e.textContent="Hata: "+o.message,e.style.color="#ef4444"):(e.textContent="Başarılı! Lütfen e-postanızı onaylayın.",e.style.color="#10b981")});document.getElementById("google-signup")?.addEventListener("click",async()=>{e&&(e.textContent="Google ile bağlanılıyor...",e.style.color="#1e293b");const{data:n,error:t}=await s.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/dashboard",queryParams:{access_type:"offline",prompt:"consent"}}});t&&(e&&(e.textContent="Giriş hatası: "+t.message,e.style.color="#ef4444"),console.error("Giriş hatası:",t.message))});
