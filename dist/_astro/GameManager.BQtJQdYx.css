:root{--tree-bg: #f3f4f6;--tree-text: #1f2937;--tree-box-bg: #ffffff;--tree-border: #e2e8f0;--tree-accent: #3b82f6;--tree-shadow: rgba(0, 0, 0, .08);--badge-bg: #eff6ff;--badge-text: #2563eb;--node-completed: #10b981;--node-locked: #9ca3af}html.dark{--tree-bg: #0f172a;--tree-text: #f8fafc;--tree-box-bg: #1e293b;--tree-border: #334155;--tree-accent: #60a5fa;--tree-shadow: rgba(0, 0, 0, .4);--badge-bg: #1e3a8a;--badge-text: #93c5fd}.game-manager-container{font-family:Inter,system-ui,sans-serif;background-color:var(--tree-bg);color:var(--tree-text);min-height:100vh;padding:40px 20px;transition:background-color .3s ease,color .3s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tree-scroll-container{display:flex;flex-direction:column;align-items:center;gap:40px;padding-bottom:60px}.tier-card{background-color:var(--tree-box-bg);border:1px solid var(--tree-border);border-radius:24px;padding:40px;width:100%;max-width:900px;box-shadow:0 10px 25px -5px var(--tree-shadow);position:relative;text-align:center;overflow-x:auto}.tier-header{margin-bottom:40px;display:flex;flex-direction:column;align-items:center;gap:12px;position:relative}.tier-badge{background-color:var(--badge-bg);color:var(--badge-text);font-size:.8rem;font-weight:800;text-transform:uppercase;letter-spacing:1.5px;padding:6px 16px;border-radius:20px;display:inline-block;border:1px solid rgba(59,130,246,.2)}.tier-title{font-size:1.75rem;font-weight:800;color:var(--tree-text);margin:0;letter-spacing:-.5px}.tier-divider{width:60px;height:4px;background-color:var(--tree-border);border-radius:2px;margin-top:10px}.org-tree{display:inline-block;padding-top:10px}.tree-node-container{display:flex;flex-direction:column;align-items:center;margin:0 12px;position:relative}.node-children{display:flex;flex-direction:row;justify-content:center;padding-top:50px;position:relative}.node-children:before{content:"";position:absolute;top:0;left:50%;border-left:2px solid var(--tree-border);height:35px;transform:translate(-50%);z-index:0}.tree-node-container:before{content:"";position:absolute;top:-30px;left:50%;border-left:2px solid var(--tree-border);height:30px;width:0;transform:translate(-50%)}.tree-node-container:after{content:"";position:absolute;top:-30px;left:0;width:100%;border-top:2px solid var(--tree-border)}.tree-node-container:first-child:after{left:50%;width:50%}.tree-node-container:last-child:after{width:50%}.tree-node-container:only-child:after{display:none}.tree-node-container:only-child:before{height:30px;top:-30px}.org-tree>.tree-node-container:before,.org-tree>.tree-node-container:after{display:none}.level-node{width:72px;height:72px;border-radius:50%;background-color:var(--tree-box-bg);border:3px solid var(--tree-border);display:flex;justify-content:center;align-items:center;cursor:pointer;position:relative;z-index:10;box-shadow:0 4px 6px var(--tree-shadow);transition:all .3s cubic-bezier(.175,.885,.32,1.275)}.level-node:hover{transform:scale(1.1);box-shadow:0 10px 20px #00000026;border-color:var(--tree-accent)}.level-node.completed{background-color:#ecfdf5;border-color:var(--node-completed);color:var(--node-completed)}.level-node.locked{background-color:var(--tree-bg);border-color:var(--tree-border);opacity:.6;filter:grayscale(1);cursor:not-allowed}.node-icon{font-size:1.8rem}.node-label{position:absolute;top:110%;left:50%;transform:translate(-50%);font-size:.8rem;font-weight:700;color:var(--tree-text);width:120px;text-align:center;line-height:1.3;z-index:20;padding:4px 6px;background:var(--tree-box-bg);border-radius:6px;border:1px solid transparent;transition:border-color .2s}.level-node:hover .node-label{border-color:var(--tree-border);color:var(--tree-accent)}.node-badge{position:absolute;top:-2px;right:-2px;background-color:#ef4444;color:#fff;width:22px;height:22px;border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:.7rem;font-weight:700;border:2px solid var(--tree-box-bg);z-index:15;box-shadow:0 2px 4px #0003}.playing-view,.game-layout{height:auto!important;overflow:visible!important;display:block!important;padding-top:20px}.game-navbar{position:relative;z-index:100;background:transparent;margin-bottom:10px;padding:0 10px}.exit-btn{background:transparent;border:1px solid #ef4444;color:#ef4444;padding:5px 15px;border-radius:6px;cursor:pointer}.exit-btn:hover{background:#ef4444;color:#fff}.progress-container{width:100%;max-width:560px;height:10px;background-color:var(--tree-border);border-radius:5px;margin:0 auto 20px;overflow:hidden;position:relative}.progress-fill{height:100%;background-color:#10b981;width:0%;transition:width .5s cubic-bezier(.4,0,.2,1);border-radius:5px}.game-controls-bottom{position:relative;width:100%;margin-top:24px;display:flex;justify-content:center;align-items:center;gap:16px;padding:15px 20px 30px;background:transparent;z-index:10}.control-pill-btn{padding:10px 20px;border-radius:30px;border:none;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .2s;font-size:1rem;box-shadow:0 4px 6px var(--tree-shadow)}.btn-prev{background-color:var(--tree-box-bg);color:var(--tree-text);border:1px solid var(--tree-border)}.btn-prev:hover{transform:translateY(-2px);background-color:var(--tree-border)}.btn-restart{width:50px;height:50px;padding:0;border-radius:50%;justify-content:center;background-color:#f59e0b;color:#fff;font-size:1.5rem}.btn-restart:hover{transform:rotate(180deg);background-color:#d97706}.btn-next{background-color:#10b981;color:#fff}.btn-next:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 12px #10b98166}.btn-next:disabled{opacity:.5;cursor:not-allowed;filter:grayscale(1)}.result-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000d9;display:flex;justify-content:center;align-items:center;z-index:10000;backdrop-filter:blur(5px);animation:fadeIn .3s ease-out}.result-card{background:var(--tree-box-bg);border:1px solid var(--tree-border);padding:40px;border-radius:20px;text-align:center;max-width:400px;width:90%;box-shadow:0 20px 50px #00000080;transform:scale(.8);animation:popIn .4s cubic-bezier(.175,.885,.32,1.275) forwards}.result-title{font-size:2rem;margin-bottom:10px;color:var(--tree-text)}.result-subtitle{font-size:1.1rem;color:var(--tree-text);opacity:.8;margin-bottom:30px}.stats-row{display:flex;gap:20px;justify-content:center;margin-bottom:30px}.stat-box{flex:1;padding:15px;border-radius:12px;display:flex;flex-direction:column;gap:5px;background:var(--tree-bg);border:2px solid transparent}.stat-box.correct{border-color:#10b981;color:#059669;background:#10b9811a}.stat-box.wrong{border-color:#ef4444;color:#b91c1c;background:#ef44441a}.stat-number{font-size:2rem;font-weight:800;line-height:1}.stat-label{font-size:.85rem;font-weight:600;text-transform:uppercase}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes popIn{0%{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}body.fullscreen-mode .game-manager-container{height:100vh!important;width:100vw!important;overflow:hidden!important;position:fixed;top:0;left:0}.nav-btn{flex:1;padding:12px;border-radius:8px;border:none;cursor:pointer;font-weight:700;display:flex;align-items:center;justify-content:center;color:var(--tree-text)}@media(max-width:900px){body.fullscreen-mode .game-manager-container{height:auto!important;min-height:100vh;overflow-y:auto!important;position:relative!important}}@media(max-width:900px){body.fullscreen-mode .game-manager-container{height:100dvh!important;width:100vw!important;padding:0!important;position:fixed;top:0;left:0;z-index:999;background-color:var(--tree-bg);overflow:hidden}.playing-view{width:100%;height:100%;display:flex;flex-direction:column;justify-content:space-between}.game-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow:hidden}}.game-navbar{flex:0 0 auto;width:100%;padding:10px 15px;z-index:10;background:transparent}.go-wrapper-shadow{box-shadow:none!important;margin:0 auto}@media(max-width:900px){.playing-view{display:flex;flex-direction:column;height:100%}.board-section{flex:0 0 auto;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;gap:8px;padding:0 10px}.go-container{width:100%;aspect-ratio:1 / 1;height:auto!important;max-height:none!important;margin:8px auto 0;padding:0!important}.go-container canvas{display:block}.game-controls-bottom{position:relative;margin-top:8px;padding:12px 16px 20px;display:flex;justify-content:center;gap:14px;background:transparent}}
