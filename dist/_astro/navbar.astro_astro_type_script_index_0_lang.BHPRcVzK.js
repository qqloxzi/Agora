import{s as a}from"./supabase.DgUM0jQD.js";async function i(){try{const e=document.getElementById("nav-login-btn"),t=document.getElementById("nav-profile-btn"),s=document.getElementById("nav-user-name");if(!e||!t)return;const{data:{user:n},error:m}=await a.auth.getUser();if(n){if(e.classList.add("hidden"),t.classList.remove("hidden"),t.style.display="flex",s){const{data:d}=await a.from("agorasusers").select("username").eq("id",n.id).single(),o=d?.username||n.email?.split("@")[0]||"Profilim";o.length>15?s.innerText=o.substring(0,12)+"...":s.innerText=o}}else e.classList.remove("hidden"),t.classList.add("hidden")}catch(e){console.error("Navbar Script HatasÄ±:",e)}}i();const l=document.getElementById("theme-toggle-dark-icon"),c=document.getElementById("theme-toggle-light-icon"),r=document.getElementById("theme-toggle");localStorage.getItem("color-theme")==="dark"||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),c?.classList.remove("hidden")):(document.documentElement.classList.remove("dark"),l?.classList.remove("hidden"));r?.addEventListener("click",()=>{l?.classList.toggle("hidden"),c?.classList.toggle("hidden"),document.documentElement.classList.toggle("dark"),localStorage.setItem("color-theme",document.documentElement.classList.contains("dark")?"dark":"light")});
