import{s as a}from"./supabase.DgUM0jQD.js";async function m(){try{const e=document.getElementById("nav-login-btn"),t=document.getElementById("nav-profile-btn"),n=document.getElementById("nav-user-name");if(!e||!t)return;const{data:{user:s},error:g}=await a.auth.getUser();if(s){if(e.classList.add("hidden"),t.classList.remove("hidden"),t.style.display="flex",n){const{data:d}=await a.from("agorasusers").select("username").eq("id",s.id).single(),o=d?.username||s.email?.split("@")[0]||"Profilim";o.length>15?n.innerText=o.substring(0,12)+"...":n.innerText=o}}else e.classList.remove("hidden"),t.classList.add("hidden")}catch(e){console.error("Navbar Script HatasÄ±:",e)}}m();const l=document.getElementById("theme-toggle-dark-icon"),c=document.getElementById("theme-toggle-light-icon"),r=document.getElementById("theme-toggle"),i=typeof localStorage<"u"&&localStorage.getItem("color-theme")?localStorage.getItem("color-theme"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";i==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light"),c?.classList.remove("hidden")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),l?.classList.remove("hidden"));r?.addEventListener("click",()=>{l?.classList.toggle("hidden"),c?.classList.toggle("hidden"),document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),localStorage.setItem("color-theme","light")):(document.documentElement.classList.remove("light"),document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark"))});
