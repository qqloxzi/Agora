import{s as a}from"./supabase.BBP8A0v-.js";import"./index.0LnPeXwf.js";async function g(){try{const e=document.getElementById("nav-login-btn"),n=document.getElementById("nav-profile-btn"),l=document.getElementById("nav-user-name"),o=document.getElementById("mobile-nav-login-btn"),s=document.getElementById("mobile-nav-profile-btn"),d=document.getElementById("mobile-user-name"),{data:{user:i},error:f}=await a.auth.getUser();if(i){e&&e.classList.add("hidden"),n&&(n.classList.remove("hidden"),n.style.display="flex"),o&&o.classList.add("hidden"),s&&s.classList.remove("hidden");let t="Profilim";const{data:r}=await a.from("agorasusers").select("username").eq("id",i.id).single();t=r?.username||i.email?.split("@")[0]||"Profilim",t.length>15&&(t=t.substring(0,12)+"..."),l&&(l.innerText=t),d&&(d.innerText=t)}else e&&e.classList.remove("hidden"),n&&n.classList.add("hidden"),o&&o.classList.remove("hidden"),s&&s.classList.add("hidden")}catch(e){console.error("Navbar Script HatasÄ±:",e)}}g();const m=document.getElementById("theme-toggle-dark-icon"),c=document.getElementById("theme-toggle-light-icon"),u=document.getElementById("theme-toggle"),h=typeof localStorage<"u"&&localStorage.getItem("color-theme")?localStorage.getItem("color-theme"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";h==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light"),c?.classList.remove("hidden")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),m?.classList.remove("hidden"));u?.addEventListener("click",()=>{m?.classList.toggle("hidden"),c?.classList.toggle("hidden"),document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),localStorage.setItem("color-theme","light")):(document.documentElement.classList.remove("light"),document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark"))});
