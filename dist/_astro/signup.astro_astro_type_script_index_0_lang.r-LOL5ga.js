import{s as l}from"./supabase.DgUM0jQD.js";const m=document.getElementById("auth-form"),c=document.getElementById("email"),d=document.getElementById("password"),o=document.getElementById("login-btn"),a=document.getElementById("signup-btn"),f=document.getElementById("google-btn"),t=document.getElementById("error-msg");function s(e,n="error"){t&&(t.textContent=e,t.style.color=n==="error"?"#e74c3c":"#2ecc71",t.style.display="block")}function p(){t&&(t.style.display="none")}function r(e){!o||!a||(e?(o.textContent="İşleniyor...",o.disabled=!0,a.disabled=!0):(o.textContent="Giriş Yap",o.disabled=!1,a.disabled=!1))}m&&c&&d&&o&&a&&f&&t&&(f.addEventListener("click",async()=>{const{error:e}=await l.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/goagaci"}});e&&s(e.message)}),m.addEventListener("submit",async e=>{e.preventDefault(),p(),r(!0);const n=c.value,u=d.value,{data:i,error:g}=await l.auth.signInWithPassword({email:n,password:u});g?(s("Giriş başarısız: "+g.message),r(!1)):window.location.href="/goagaci"}),a.addEventListener("click",async()=>{p();const e=c.value,n=d.value;if(!e||!n){s("Lütfen e-posta ve şifre giriniz.");return}r(!0);const{data:u,error:i}=await l.auth.signUp({email:e,password:n});i?s(i.message):s("Kayıt başarılı! Lütfen e-posta kutunuzu onaylayın.","success"),r(!1)}));
