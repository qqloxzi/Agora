import{c as g}from"./index.0LnPeXwf.js";const i=g("https://gncxqiarmnyspvrlsutp.supabase.co","sb_publishable_sWU29ifFK2XJIbx7GoLD5g_lMaWWo2f"),u="agoragoakademisi@gmail.com",t=document.getElementById("create-course-form"),r=document.getElementById("status-msg");t&&r&&t.addEventListener("submit",async l=>{l.preventDefault();const{data:{user:a}}=await i.auth.getUser();if(!a||a.email!==u){alert("Yetkisiz işlem! Lütfen giriş yapın veya admin olduğunuzdan emin olun.");return}const n=new FormData(t),e=Object.fromEntries(n),o=(c=>c.toString().toLowerCase().replace(/ğ/g,"g").replace(/ü/g,"u").replace(/ş/g,"s").replace(/ı/g,"i").replace(/ö/g,"o").replace(/ç/g,"c").replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""))(e.title),{error:s}=await i.from("courses").insert({title:e.title,slug:o,description:e.description,image_url:e.image_url,provider:e.provider,teacher_id:a.id,duration:e.duration,level:e.level,outcomes:e.outcomes,price:e.price});s?(r.innerText="❌ Hata: "+s.message,r.style.color="red",console.error(s)):(r.innerText="✅ Kurs başarıyla eklendi! URL: /course-detail?slug="+o,r.style.color="green",t.reset())});
