import{s as m}from"./supabase.DgUM0jQD.js";const y=document.getElementById("mobile-menu-btn"),f=document.getElementById("close-sidebar-btn"),e=document.getElementById("mobile-overlay"),r=document.getElementById("mobile-sidebar");function v(){e?.classList.remove("hidden"),setTimeout(()=>e?.classList.remove("opacity-0"),10),r?.classList.remove("-translate-x-full"),document.body.style.overflow="hidden"}function u(){e?.classList.add("opacity-0"),r?.classList.add("-translate-x-full"),setTimeout(()=>e?.classList.add("hidden"),300),document.body.style.overflow=""}y?.addEventListener("click",v);f?.addEventListener("click",u);e?.addEventListener("click",u);async function E(){try{const t=document.getElementById("nav-login-btn"),s=document.getElementById("nav-profile-btn"),l=document.getElementById("nav-user-name"),c=document.getElementById("mobile-login-btn"),n=document.getElementById("mobile-profile-btn"),a=document.getElementById("mobile-user-name"),{data:{user:o}}=await m.auth.getUser();if(o){t?.classList.add("hidden"),s?.classList.remove("hidden"),s&&(s.style.display="flex"),c?.classList.add("hidden"),n?.classList.remove("hidden"),n&&(n.style.display="flex");const{data:L}=await m.from("agorasusers").select("username").eq("id",o.id).single(),d=L?.username||o.email?.split("@")[0]||"Profilim",i=d.length>15?d.substring(0,12)+"...":d;l&&(l.innerText=i),a&&(a.innerText=i)}else t?.classList.remove("hidden"),s?.classList.add("hidden"),c?.classList.remove("hidden"),n?.classList.add("hidden")}catch(t){console.error("Navbar Script HatasÄ±:",t)}}E();const g=document.getElementById("theme-toggle-dark-icon"),h=document.getElementById("theme-toggle-light-icon"),b=document.getElementById("theme-toggle"),B=typeof localStorage<"u"&&localStorage.getItem("color-theme")?localStorage.getItem("color-theme"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";B==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light"),h?.classList.remove("hidden")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),g?.classList.remove("hidden"));b?.addEventListener("click",()=>{g?.classList.toggle("hidden"),h?.classList.toggle("hidden"),document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),localStorage.setItem("color-theme","light")):(document.documentElement.classList.remove("light"),document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark"))});
