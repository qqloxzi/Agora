---
import Layout from "@layouts/Layout.astro";
import Container from "@components/container.astro";
import Sectionhead from "@components/sectionhead.astro";
import PricingCard from "@components/pricing.astro";

const pricing = [
  {
    name: "Savaşçı Ruhu",
    price: "1000 TL", 
    originalPrice: "2000 TL", 
    popular: true,
    features: [
      "14-10 kyu seviyeleri için",
      "Online lig katılımı",
      "Her hafta bireysel oyun analizi",
      "Ders kayıtlarına erişim",
      "Eğitmen: Ali Karakaya",
    ],
    button: {
      text: "Kayıt Ol",
      link: "https://www.shopier.com/Agoragoakademisi/41454015",
    },
  },
  {
    name: "Tesuji",
    price: "1500 TL",
    originalPrice: "4000 TL",
    popular: true,
    features: [
      "9-5 kyu seviyeleri için",
     "Online lig katılımı",
      "Her hafta bireysel oyun analizi",
      "Ders kayıtlarına erişim",
      "Eğitmen: Oğuz Erdoğan",
    ],
    button: {
      text: "Kayıt Ol",
      link: "https://www.shopier.com/Agoragoakademisi/41454015",
    },
  },
  {
    name: "Do-jo",
    price: "2000 TL",
    originalPrice: "6000 TL",
    popular: true,
    features: [
      "4-1 kyu seviyeleri için",
      "Online lig katılımı",
      "Her hafta bireysel oyun analizi",
      "Ders kayıtlarına erişim",
      "Eğitmen: Tuğkan Eren",
    ],
    button: {
      text: "Kayıt Ol",
      link: "https://www.shopier.com/Agoragoakademisi/41454129",
    },
  },
  {
    name: "Başlangıç",
    price: "Ücretsiz",
    popular: false,
    features: [
      "Online 2 oturum",
      "Konejan: Formu dolduran  ilk 8 kişi",
      "xxx",
      "Interaktif eğitim",
      "Eğitmen:Oğuz Erdoğan",
    ],
    button: {
      text: "Kayıt Ol",
      link: "#",
    },
  },
];
---

<Layout title="Pricing">
  <Container>
    <Sectionhead>
      <Fragment slot="title">Kurs Planları</Fragment>
      <Fragment slot="desc">
        Açılışa özel, kurs planlarında büyük imkanlar. Her bir kurs için 6 Kişilik kontenjan ve 20 Aralığa kadar kayıt süresi:
      </Fragment>
    </Sectionhead>

    <div class="mt-8 text-center bg-gray-100 dark:bg-gray-800 p-6 rounded-lg max-w-2xl mx-auto border border-indigo-100 dark:border-gray-700">
      <p class="text-lg font-semibold text-indigo-600 mb-2">Agora'nın açılışına özel:</p>
      <div class="flex justify-center gap-4 text-2xl font-bold text-gray-800 dark:text-white" id="countdown">
        <div class="flex flex-col items-center">
          <span id="days">00</span>
          <span class="text-xs font-normal text-gray-500">Gün</span>
        </div>
        <span>:</span>
        <div class="flex flex-col items-center">
          <span id="hours">00</span>
          <span class="text-xs font-normal text-gray-500">Saat</span>
        </div>
        <span>:</span>
        <div class="flex flex-col items-center">
          <span id="minutes">00</span>
          <span class="text-xs font-normal text-gray-500">Dakika</span>
        </div>
        <span>:</span>
        <div class="flex flex-col items-center">
          <span id="seconds">00</span>
          <span class="text-xs font-normal text-gray-500">Saniye</span>
        </div>
      </div>
    </div>

    <div class="mt-6 text-center">
      <p class="inline-block text-sm md:text-base font-medium text-slate-700 bg-slate-100 dark:text-slate-300 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 px-4 py-2 rounded-full">
        Her lig için maksimum 8 kişi — Kontenjan dolduğunda kayıtlar kapanır.
      </p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4 mx-auto max-w-screen-xl mt-8">
      {pricing.map((item) => <PricingCard plan={item} />)}
    </div>

    <div class="mt-16 text-center">
      <p class="text-lg text-black mb-8">
        Lise ve üniversite öğrencilerine yönelik özel imkanlar için lütfen bizimle iletişime geçiniz. 
      </p>
      <a 
        href="/contact" 
        target="_blank" 
        rel="noopener noreferrer"
        class="inline-block w-full md:w-auto px-12 py-4 text-lg text-white bg-gray-900 hover:bg-gray-800 dark:bg-gray-700 dark:hover:bg-gray-600 rounded-xl transition-all duration-300 font-medium shadow-md hover:shadow-lg transform hover:-translate-y-1"
      >
        İletişime Geç
      </a>
    </div>
  </Container>
</Layout>

<script>
  // Hedef tarih
  const targetDate = new Date("2025-12-19T23:59:59").getTime();

  const timer = setInterval(function() {
    const now = new Date().getTime();
    const distance = targetDate - now;

    if (distance < 0) {
      clearInterval(timer);
      // @ts-ignore
      document.getElementById("countdown").innerHTML = "<span class='text-red-500'>Süre Doldu!</span>";
      return;
    }

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    // @ts-ignore
    document.getElementById("days").innerText = days < 10 ? "0" + days : days;
    // @ts-ignore
    document.getElementById("hours").innerText = hours < 10 ? "0" + hours : hours;
    // @ts-ignore
    document.getElementById("minutes").innerText = minutes < 10 ? "0" + minutes : minutes;
    // @ts-ignore
    document.getElementById("seconds").innerText = seconds < 10 ? "0" + seconds : seconds;
  }, 1000);
</script>