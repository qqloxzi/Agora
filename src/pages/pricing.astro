---
import Layout from "@layouts/Layout.astro";
import Container from "@components/container.astro";
import Sectionhead from "@components/sectionhead.astro";
import PricingCard from "@components/pricing.astro";

const pricing = [
  {
    name: "Savaşçı Ruhu",
    price: "1000 TL", 
    originalPrice: "2000 TL", 
    popular: false,
    features: [
      "14-10 kyu seviyeleri için",
      "7 kişi Kontenjan",
      "6 haftalık eğitim programı",
      "Eğitmen: Ali Karakaya",
    ],
    button: {
      text: "Bize Ulaşın",
      link: "/contact",
    },
  },
  {
    name: "Tesuji",
    price: "1500 TL",
    originalPrice: "4000 TL",
    popular: true,
    features: [
      "9-5 kyu seviyeleri için",
      "7 kişi Kontenjan",
      "6 haftalık eğitim programı",
      "Eğitmen: Oğuz Erdoğan",
    ],
    button: {
      text: "Bize Ulaşın",
      link: "/contact",
    },
  },
  {
    name: "Do-jo",
    price: "2000 TL",
    originalPrice: "6000 TL",
    popular: false,
    features: [
      "4-1 kyu seviyeleri için",
      "7 kişi Kontenjan",
      "6 haftalık eğitim programı",
      "Eğitmen: Tuğkan Eren",
    ],
    button: {
      text: "Bize Ulaşın",
      link: "/contact",
    },
  },
];
---

<Layout title="Pricing">
  <Container>
    <Sectionhead>
      <Fragment slot="title">Kurs Planları</Fragment>
      <Fragment slot="desc">
        Lise ve üniversite öğrencilerine yönelik özel fiyatlandırma için lütfen bizimle iletişime geçiniz.
      </Fragment>
    </Sectionhead>

    <div class="mt-8 text-center bg-gray-100 dark:bg-gray-800 p-6 rounded-lg max-w-2xl mx-auto border border-indigo-100 dark:border-gray-700">
      <p class="text-lg font-semibold text-indigo-600 mb-2">Go Akademisinin açılışına özel:</p>
      <div class="flex justify-center gap-4 text-2xl font-bold text-gray-800 dark:text-white" id="countdown">
        <div class="flex flex-col items-center">
          <span id="days">00</span>
          <span class="text-xs font-normal text-gray-500">Gün</span>
        </div>
        <span>:</span>
        <div class="flex flex-col items-center">
          <span id="hours">00</span>
          <span class="text-xs font-normal text-gray-500">Saat</span>
        </div>
        <span>:</span>
        <div class="flex flex-col items-center">
          <span id="minutes">00</span>
          <span class="text-xs font-normal text-gray-500">Dakika</span>
        </div>
        <span>:</span>
        <div class="flex flex-col items-center">
          <span id="seconds">00</span>
          <span class="text-xs font-normal text-gray-500">Saniye</span>
        </div>
      </div>
    </div>
    <div class="grid md:grid-cols-3 gap-10 mx-auto max-w-screen-lg mt-12">
      {pricing.map((item) => <PricingCard plan={item} />)}
    </div>
  </Container>
</Layout>

<script>
  const targetDate = new Date("2025-12-19T23:59:59").getTime();

  const timer = setInterval(function() {
    const now = new Date().getTime();
    const distance = targetDate - now;

    if (distance < 0) {
      clearInterval(timer);
      document.getElementById("countdown").innerHTML = "<span class='text-red-500'>Süre Doldu!</span>";
      return;
    }

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    document.getElementById("days").innerText = days < 10 ? "0" + days : days;
    document.getElementById("hours").innerText = hours < 10 ? "0" + hours : hours;
    document.getElementById("minutes").innerText = minutes < 10 ? "0" + minutes : minutes;
    document.getElementById("seconds").innerText = seconds < 10 ? "0" + seconds : seconds;
  }, 1000);
</script>