---
import Layout from "@layouts/Layout.astro";
import Container from "@components/container.astro";
import Sectionhead from "@components/sectionhead.astro";
import PricingCard from "@components/pricing.astro";

const pricing = [
  {
    name: "Başlangıç Ligi",
    price: "1000 TL", 
    originalPrice: "---- TL", 
    popular: true,
    features: [
      "17-12 kyu seviyeleri için",
      "Online lig katılımı",
      "Her hafta bireysel oyun analizi",
      "Ders kayıtlarına erişim",
      "Eğitmen: Ali Karakaya",
    ],
    button: {
      text: "Kayıt Ol",
      link: "https://www.shopier.com/Agoragoakademisi/41454015",
    },
  },
  {
    name: "Gelişim Ligi",
    price: "1500 TL",
    originalPrice: "---- TL",
    popular: true,
    features: [
      "11-6 kyu seviyeleri için",
     "Online lig katılımı",
      "Her hafta bireysel oyun analizi",
      "Ders kayıtlarına erişim",
      "Eğitmen: Oğuz Erdoğan",
    ],
    button: {
      text: "Kayıt Ol",
      link: "https://www.shopier.com/Agoragoakademisi/41454015",
    },
  },
  {
    name: "Usta Ligi",
    price: "2000 TL",
    originalPrice: "---- TL",
    popular: true,
    features: [
      "5 kyu ve üstü seviyeler için",
      "Online lig katılımı",
      "Her hafta bireysel oyun analizi",
      "Ders kayıtlarına erişim",
      "Eğitmen: Tuğkan Eren",
    ],
    button: {
      text: "Kayıt Ol",
      link: "https://www.shopier.com/Agoragoakademisi/41454129",
    },
  },
  {
    name: "----",
    price: "Ücretsiz",
    popular: false,
    features: [
      "Online oturum",
      "Temel kavramlar",
      "Kurallar ve etik",
      "Go felsefesi",
      "Interaktif eğitim",
      "Eğitmen:Oğuz Erdoğan",
    ],
    button: {
      text: "Kayıt Ol",
      link: "https://forms.gle/SgkPfyd4BNvyWr2g6",
    },
  },
];
---

<Layout title="Pricing">
  <Container>
    <Sectionhead>
      <Fragment slot="title">Kurs Planları</Fragment>
      <Fragment slot="desc">
        Açılışa özel, kurs planlarında büyük imkanlar. Her bir kurs için 8 Kişilik kontenjan ve 31 Aralığa kadar kayıt süresi:
      </Fragment>
    </Sectionhead>

    <div class="mt-8 text-center bg-gray-100 dark:bg-gray-800 p-6 rounded-lg max-w-2xl mx-auto border border-indigo-100 dark:border-gray-700">
      <p class="text-lg font-semibold text-indigo-600 mb-2">Agora Go Akademisi'nin açılışına özel:</p>
      <div class="flex justify-center gap-4 text-2xl font-bold text-gray-800 dark:text-white" id="countdown">
        <div class="flex flex-col items-center">
          <span id="days">00</span>
          <span class="text-xs font-normal text-gray-500">Gün</span>
        </div>
        <span>:</span>
        <div class="flex flex-col items-center">
          <span id="hours">00</span>
          <span class="text-xs font-normal text-gray-500">Saat</span>
        </div>
        <span>:</span>
        <div class="flex flex-col items-center">
          <span id="minutes">00</span>
          <span class="text-xs font-normal text-gray-500">Dakika</span>
        </div>
        <span>:</span>
        <div class="flex flex-col items-center">
          <span id="seconds">00</span>
          <span class="text-xs font-normal text-gray-500">Saniye</span>
        </div>
      </div>
    </div>

    <div class="mt-6 text-center">
      <p class="inline-block text-sm md:text-base font-medium text-slate-700 bg-slate-100 dark:text-slate-300 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 px-4 py-2 rounded-full">
        Her lig için maksimum 8 kişi — Kontenjan dolduğunda kayıtlar kapanır.
      </p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4 mx-auto max-w-screen-xl mt-8">
      {pricing.map((item) => <PricingCard plan={item} />)}
    </div>

<div class="mt-16 text-center">
  <p class="text-lg text-black mb-8">
    Üniversite öğrencilerine yönelik ek %10 indirim. Bizimle
    <a 
      href="/contact" 
      target="_blank" 
      rel="noopener noreferrer"
      class="underline font-bold hover:text-gray-600 transition-colors cursor-pointer"
    >
      iletişime
    </a>
    geçebilirsiniz.
  </p>
</div>
  </Container>
</Layout>

<script>
  // Hedef tarih
  const targetDate = new Date("2025-12-31T23:59:59").getTime();

  const timer = setInterval(function() {
    const now = new Date().getTime();
    const distance = targetDate - now;

    if (distance < 0) {
      clearInterval(timer);
      // @ts-ignore
      document.getElementById("countdown").innerHTML = "<span class='text-red-500'>Süre Doldu!</span>";
      return;
    }

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    // @ts-ignore
    document.getElementById("days").innerText = days < 10 ? "0" + days : days;
    // @ts-ignore
    document.getElementById("hours").innerText = hours < 10 ? "0" + hours : hours;
    // @ts-ignore
    document.getElementById("minutes").innerText = minutes < 10 ? "0" + minutes : minutes;
    // @ts-ignore
    document.getElementById("seconds").innerText = seconds < 10 ? "0" + seconds : seconds;
  }, 1000);
</script>